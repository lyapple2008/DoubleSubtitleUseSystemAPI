# 项目介绍
iOS端双语字幕app，通过捕获系统播放音频，进行语音识别和翻译，在画中画中实时显示双语字幕。

# 项目框架
## 模块组成
- 系统播放音频捕获模块
通过broadcast upload extension进行系统播放音频捕获。这里只需要捕获系统播放的音频，不需要捕获麦克风数据，因此不需要麦克风权限

- 语音识别模块
接收捕获的音频数据，调用系统语音识别api进行语音识别，输出识别结果

- 翻译模块
接收语音识别模块的识别结果，调用系统翻译API进行翻译，输出翻译结果

- 画中画双语音显示模块
接收识别结果和翻译结果，在画中画显示，画中画上半部分显示识别结果，下半部分显示翻译结果。显示的内容分为历史稳定部分和当前正在识别会修改的部分。

## 技术
1. 使用swift/swiftui进行实现
2. 每个模块或者类遵守高内聚低耦合

## UI及交互
1. 上部为源语言和目标语言选择，中部为原文和译文显示，下部为启动识别和开启画中画按钮
2. 点击开始识别后，直接触发 RPSystemBroadcastPickerView 弹出系统捕获交互窗口；用户在弹出的系统界面中点击「开始直播」后，才会开始捕获音频并启动识别和翻译